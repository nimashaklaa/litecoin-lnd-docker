services:
  lnd:
    build:
      context: ./lnd
      dockerfile: Dockerfile
    container_name: litecoin-lnd
    restart: unless-stopped
    ports:
      # Lightning P2P port
      - "9735:9735"
      # gRPC port
      - "10009:10009"
      # REST API port
      - "8080:8080"
    volumes:
      - lnd-data:/home/lnd/.lnd
      - ./lnd/lnd.conf:/home/lnd/.lnd/lnd.conf:ro
    command:
      - --configfile=/home/lnd/.lnd/lnd.conf
      - --litecoind.rpchost=${LITECOIND_RPCHOST}
      - --litecoind.rpcuser=${LITECOIND_RPCUSER}
      - --litecoind.rpcpass=${LITECOIND_RPCPASS}
      - --litecoind.zmqpubrawblock=${LITECOIND_ZMQPUBRAWBLOCK}
      - --litecoind.zmqpubrawtx=${LITECOIND_ZMQPUBRAWTX}
    networks:
      - node_bitcoin

volumes:
  lnd-data:
    driver: local

networks:
  node_bitcoin:
    external: true
